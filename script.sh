#!/bin/bash

# –í–∏–π—Ç–∏ –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ
set -e

# –ö–∞—Ç–∞–ª–æ–≥ –∑ –ø–∞–ø–∫–∞–º–∏
BASE_DIR="files2"

# –¶–∏–∫–ª –∑ 0000 –¥–æ 0100
for i in $(seq 0 100); do
  DIR="$BASE_DIR/$(printf "%04d" $i)"
  
  # –Ø–∫—â–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –Ω–µ–º–∞—î ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ
  if [ ! -d "$DIR" ]; then
    echo "–ü—Ä–æ–ø—É—â–µ–Ω–æ: $DIR (–Ω–µ–º–∞—î)"
    continue
  fi

  echo "‚ñ∂Ô∏è –î–æ–¥–∞—é: $DIR"
  git add "$DIR"

  echo "üìù –ö–æ–º—ñ—Ç..."
  git commit -m "Add $DIR"

  echo "üöÄ –ü—É—à—É..."
  git push origin master

  echo "‚úÖ –ì–æ—Ç–æ–≤–æ: $DIR"
  echo "----------------------------"
done

echo "üéâ –£—Å—ñ –ø–∞–ø–∫–∏ –∑–∞–ø—É—à–µ–Ω–æ!"
